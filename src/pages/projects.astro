---
import ProfileCard from "../components/ProfileCard.astro";
import Sidebar from "../components/Sidebar.astro";
import BaseLayout from "../layouts/BaseLayout.astro";
import { getDefaultUiText } from "../i18n/ui";

const projectImageAlt = getDefaultUiText("legacy.projects.imageAlt");
const projectImagePlaceholderText = getDefaultUiText("legacy.projects.imagePlaceholderText");
---

<BaseLayout title={getDefaultUiText("legacy.projects.title")}>
    <main>
        <div class="homepage-container">
            <div class="homepage-layout">
            <!-- 左侧：个人信息 + 侧边栏 -->
            <div class="homepage-sidebar">
                <ProfileCard />
                <Sidebar />
            </div>

            <!-- 右侧：项目内容 -->
            <div class="homepage-content">
                <h2 class="section-title" data-i18n="legacy.projects.title">{getDefaultUiText("legacy.projects.title")}</h2>
                <div class="post-list">
                    <!-- 项目卡片 1 -->
                    <div class="project-card">
                        <div class="project-image mb-4">
                            <img
                                src="/placeholder-project.jpg"
                                alt={projectImageAlt}
                                class="rounded-lg w-full h-48 object-cover"
                                onerror={`this.src='https://via.placeholder.com/600x400?text=${encodeURIComponent(projectImagePlaceholderText)}'`}
                            />
                        </div>
                        <h2 class="text-2xl font-bold mb-2 text-gray-900 dark:text-gray-100" data-i18n="legacy.projects.p1.title">{getDefaultUiText("legacy.projects.p1.title")}</h2>
                        <p class="text-gray-600 dark:text-gray-300 mb-4" data-i18n="legacy.projects.p1.desc">{getDefaultUiText("legacy.projects.p1.desc")}</p>

                        <div class="flex flex-wrap gap-2 mb-4">
                            <span class="tag">Astro</span>
                            <span class="tag">TailwindCSS</span>
                            <span class="tag">Markdown</span>
                            <span class="tag" data-i18n="legacy.projects.p1.tag">{getDefaultUiText("legacy.projects.p1.tag")}</span>
                        </div>

                        <div class="project-links flex gap-4">
                            <a href="#" class="text-accent hover:underline">
                                <svg
                                    xmlns="http://www.w3.org/2000/svg"
                                    class="icon icon-tabler icon-tabler-brand-github inline-block mr-1"
                                    width="20"
                                    height="20"
                                    viewBox="0 0 24 24"
                                    stroke-width="2"
                                    stroke="currentColor"
                                    fill="none"
                                    stroke-linecap="round"
                                    stroke-linejoin="round"
                                >
                                    <path
                                        stroke="none"
                                        d="M0 0h24v24H0z"
                                        fill="none"></path>
                                    <path
                                        d="M9 19c-4.3 1.4 -4.3 -2.5 -6 -3m12 5v-3.5c0 -1 .1 -1.4 -.5 -2c2.8 -.3 5.5 -1.4 5.5 -6a4.6 4.6 0 0 0 -1.3 -3.2a4.2 4.2 0 0 0 -.1 -3.2s-1.1 -.3 -3.5 1.3a12.3 12.3 0 0 0 -6.2 0c-2.4 -1.6 -3.5 -1.3 -3.5 -1.3a4.2 4.2 0 0 0 -.1 3.2a4.6 4.6 0 0 0 -1.3 3.2c0 4.6 2.7 5.7 5.5 6c-.6 .6 -.6 1.2 -.5 2v3.5"
                                    ></path>
                                </svg>
                                <span data-i18n="legacy.projects.repo">{getDefaultUiText("legacy.projects.repo")}</span>
                            </a>
                            <a href="#" class="text-accent hover:underline">
                                <svg
                                    xmlns="http://www.w3.org/2000/svg"
                                    class="icon icon-tabler icon-tabler-external-link inline-block mr-1"
                                    width="20"
                                    height="20"
                                    viewBox="0 0 24 24"
                                    stroke-width="2"
                                    stroke="currentColor"
                                    fill="none"
                                    stroke-linecap="round"
                                    stroke-linejoin="round"
                                >
                                    <path
                                        stroke="none"
                                        d="M0 0h24v24H0z"
                                        fill="none"></path>
                                    <path
                                        d="M12 6h-6a2 2 0 0 0 -2 2v10a2 2 0 0 0 2 2h10a2 2 0 0 0 2 -2v-6"
                                    ></path>
                                    <path d="M11 13l9 -9"></path>
                                    <path d="M15 4h5v5"></path>
                                </svg>
                                <span data-i18n="legacy.projects.preview">{getDefaultUiText("legacy.projects.preview")}</span>
                            </a>
                        </div>
                    </div>

                    <!-- 项目卡片 2 -->
                    <div class="project-card">
                        <div class="project-image mb-4">
                            <img
                                src="/placeholder-project.jpg"
                                alt={projectImageAlt}
                                class="rounded-lg w-full h-48 object-cover"
                                onerror={`this.src='https://via.placeholder.com/600x400?text=${encodeURIComponent(projectImagePlaceholderText)}'`}
                            />
                        </div>
                        <h2 class="text-2xl font-bold mb-2 text-gray-900 dark:text-gray-100" data-i18n="legacy.projects.p2.title">{getDefaultUiText("legacy.projects.p2.title")}</h2>
                        <p class="text-gray-600 dark:text-gray-300 mb-4" data-i18n="legacy.projects.p2.desc">{getDefaultUiText("legacy.projects.p2.desc")}</p>

                        <div class="flex flex-wrap gap-2 mb-4">
                            <span class="tag">React</span>
                            <span class="tag">TypeScript</span>
                            <span class="tag">Redux</span>
                            <span class="tag">Firebase</span>
                        </div>

                        <div class="project-links flex gap-4">
                            <a href="#" class="text-accent hover:underline">
                                <svg
                                    xmlns="http://www.w3.org/2000/svg"
                                    class="icon icon-tabler icon-tabler-brand-github inline-block mr-1"
                                    width="20"
                                    height="20"
                                    viewBox="0 0 24 24"
                                    stroke-width="2"
                                    stroke="currentColor"
                                    fill="none"
                                    stroke-linecap="round"
                                    stroke-linejoin="round"
                                >
                                    <path
                                        stroke="none"
                                        d="M0 0h24v24H0z"
                                        fill="none"></path>
                                    <path
                                        d="M9 19c-4.3 1.4 -4.3 -2.5 -6 -3m12 5v-3.5c0 -1 .1 -1.4 -.5 -2c2.8 -.3 5.5 -1.4 5.5 -6a4.6 4.6 0 0 0 -1.3 -3.2a4.2 4.2 0 0 0 -.1 -3.2s-1.1 -.3 -3.5 1.3a12.3 12.3 0 0 0 -6.2 0c-2.4 -1.6 -3.5 -1.3 -3.5 -1.3a4.2 4.2 0 0 0 -.1 3.2a4.6 4.6 0 0 0 -1.3 3.2c0 4.6 2.7 5.7 5.5 6c-.6 .6 -.6 1.2 -.5 2v3.5"
                                    ></path>
                                </svg>
                                <span data-i18n="legacy.projects.repo">{getDefaultUiText("legacy.projects.repo")}</span>
                            </a>
                            <a href="#" class="text-accent hover:underline">
                                <svg
                                    xmlns="http://www.w3.org/2000/svg"
                                    class="icon icon-tabler icon-tabler-external-link inline-block mr-1"
                                    width="20"
                                    height="20"
                                    viewBox="0 0 24 24"
                                    stroke-width="2"
                                    stroke="currentColor"
                                    fill="none"
                                    stroke-linecap="round"
                                    stroke-linejoin="round"
                                >
                                    <path
                                        stroke="none"
                                        d="M0 0h24v24H0z"
                                        fill="none"></path>
                                    <path
                                        d="M12 6h-6a2 2 0 0 0 -2 2v10a2 2 0 0 0 2 2h10a2 2 0 0 0 2 -2v-6"
                                    ></path>
                                    <path d="M11 13l9 -9"></path>
                                    <path d="M15 4h5v5"></path>
                                </svg>
                                <span data-i18n="legacy.projects.preview">{getDefaultUiText("legacy.projects.preview")}</span>
                            </a>
                        </div>
                    </div>

                    <!-- 项目卡片 3 -->
                    <div class="project-card">
                        <div class="project-image mb-4">
                            <img
                                src="/placeholder-project.jpg"
                                alt={projectImageAlt}
                                class="rounded-lg w-full h-48 object-cover"
                                onerror={`this.src='https://via.placeholder.com/600x400?text=${encodeURIComponent(projectImagePlaceholderText)}'`}
                            />
                        </div>
                        <h2 class="text-2xl font-bold mb-2 text-gray-900 dark:text-gray-100" data-i18n="legacy.projects.p3.title">{getDefaultUiText("legacy.projects.p3.title")}</h2>
                        <p class="text-gray-600 dark:text-gray-300 mb-4" data-i18n="legacy.projects.p3.desc">{getDefaultUiText("legacy.projects.p3.desc")}</p>

                        <div class="flex flex-wrap gap-2 mb-4">
                            <span class="tag">Vue.js</span>
                            <span class="tag">ECharts</span>
                            <span class="tag" data-i18n="legacy.projects.p3.tag">{getDefaultUiText("legacy.projects.p3.tag")}</span>
                        </div>

                        <div class="project-links flex gap-4">
                            <a href="#" class="text-accent hover:underline">
                                <svg
                                    xmlns="http://www.w3.org/2000/svg"
                                    class="icon icon-tabler icon-tabler-brand-github inline-block mr-1"
                                    width="20"
                                    height="20"
                                    viewBox="0 0 24 24"
                                    stroke-width="2"
                                    stroke="currentColor"
                                    fill="none"
                                    stroke-linecap="round"
                                    stroke-linejoin="round"
                                >
                                    <path
                                        stroke="none"
                                        d="M0 0h24v24H0z"
                                        fill="none"></path>
                                    <path
                                        d="M9 19c-4.3 1.4 -4.3 -2.5 -6 -3m12 5v-3.5c0 -1 .1 -1.4 -.5 -2c2.8 -.3 5.5 -1.4 5.5 -6a4.6 4.6 0 0 0 -1.3 -3.2a4.2 4.2 0 0 0 -.1 -3.2s-1.1 -.3 -3.5 1.3a12.3 12.3 0 0 0 -6.2 0c-2.4 -1.6 -3.5 -1.3 -3.5 -1.3a4.2 4.2 0 0 0 -.1 3.2a4.6 4.6 0 0 0 -1.3 3.2c0 4.6 2.7 5.7 5.5 6c-.6 .6 -.6 1.2 -.5 2v3.5"
                                    ></path>
                                </svg>
                                <span data-i18n="legacy.projects.repo">{getDefaultUiText("legacy.projects.repo")}</span>
                            </a>
                            <a href="#" class="text-accent hover:underline">
                                <svg
                                    xmlns="http://www.w3.org/2000/svg"
                                    class="icon icon-tabler icon-tabler-external-link inline-block mr-1"
                                    width="20"
                                    height="20"
                                    viewBox="0 0 24 24"
                                    stroke-width="2"
                                    stroke="currentColor"
                                    fill="none"
                                    stroke-linecap="round"
                                    stroke-linejoin="round"
                                >
                                    <path
                                        stroke="none"
                                        d="M0 0h24v24H0z"
                                        fill="none"></path>
                                    <path
                                        d="M12 6h-6a2 2 0 0 0 -2 2v10a2 2 0 0 0 2 2h10a2 2 0 0 0 2 -2v-6"
                                    ></path>
                                    <path d="M11 13l9 -9"></path>
                                    <path d="M15 4h5v5"></path>
                                </svg>
                                <span data-i18n="legacy.projects.preview">{getDefaultUiText("legacy.projects.preview")}</span>
                            </a>
                        </div>
                    </div>

                    <!-- 项目卡片 4 -->
                    <div class="project-card">
                        <div class="project-image mb-4">
                            <img
                                src="/placeholder-project.jpg"
                                alt={projectImageAlt}
                                class="rounded-lg w-full h-48 object-cover"
                                onerror={`this.src='https://via.placeholder.com/600x400?text=${encodeURIComponent(projectImagePlaceholderText)}'`}
                            />
                        </div>
                        <h2 class="text-2xl font-bold mb-2 text-gray-900 dark:text-gray-100" data-i18n="legacy.projects.p4.title">{getDefaultUiText("legacy.projects.p4.title")}</h2>
                        <p class="text-gray-600 dark:text-gray-300 mb-4" data-i18n="legacy.projects.p4.desc">{getDefaultUiText("legacy.projects.p4.desc")}</p>

                        <div class="flex flex-wrap gap-2 mb-4">
                            <span class="tag">Node.js</span>
                            <span class="tag">Express</span>
                            <span class="tag">MongoDB</span>
                            <span class="tag">JWT</span>
                        </div>

                        <div class="project-links flex gap-4">
                            <a href="#" class="text-accent hover:underline">
                                <svg
                                    xmlns="http://www.w3.org/2000/svg"
                                    class="icon icon-tabler icon-tabler-brand-github inline-block mr-1"
                                    width="20"
                                    height="20"
                                    viewBox="0 0 24 24"
                                    stroke-width="2"
                                    stroke="currentColor"
                                    fill="none"
                                    stroke-linecap="round"
                                    stroke-linejoin="round"
                                >
                                    <path
                                        stroke="none"
                                        d="M0 0h24v24H0z"
                                        fill="none"></path>
                                    <path
                                        d="M9 19c-4.3 1.4 -4.3 -2.5 -6 -3m12 5v-3.5c0 -1 .1 -1.4 -.5 -2c2.8 -.3 5.5 -1.4 5.5 -6a4.6 4.6 0 0 0 -1.3 -3.2a4.2 4.2 0 0 0 -.1 -3.2s-1.1 -.3 -3.5 1.3a12.3 12.3 0 0 0 -6.2 0c-2.4 -1.6 -3.5 -1.3 -3.5 -1.3a4.2 4.2 0 0 0 -.1 3.2a4.6 4.6 0 0 0 -1.3 3.2c0 4.6 2.7 5.7 5.5 6c-.6 .6 -.6 1.2 -.5 2v3.5"
                                    ></path>
                                </svg>
                                <span data-i18n="legacy.projects.repo">{getDefaultUiText("legacy.projects.repo")}</span>
                            </a>
                            <a href="#" class="text-accent hover:underline">
                                <svg
                                    xmlns="http://www.w3.org/2000/svg"
                                    class="icon icon-tabler icon-tabler-file-text inline-block mr-1"
                                    width="20"
                                    height="20"
                                    viewBox="0 0 24 24"
                                    stroke-width="2"
                                    stroke="currentColor"
                                    fill="none"
                                    stroke-linecap="round"
                                    stroke-linejoin="round"
                                >
                                    <path
                                        stroke="none"
                                        d="M0 0h24v24H0z"
                                        fill="none"></path>
                                    <path d="M14 3v4a1 1 0 0 0 1 1h4"></path>
                                    <path
                                        d="M17 21h-10a2 2 0 0 1 -2 -2v-14a2 2 0 0 1 2 -2h7l5 5v11a2 2 0 0 1 -2 2z"
                                    ></path>
                                    <path d="M9 9l1 0"></path>
                                    <path d="M9 13l6 0"></path>
                                    <path d="M9 17l6 0"></path>
                                </svg>
                                <span data-i18n="legacy.projects.docs">{getDefaultUiText("legacy.projects.docs")}</span>
                            </a>
                        </div>
                    </div>
                </div>

                <!-- 开源贡献 -->
                <div class="open-source mb-12">
                    <h2 class="text-3xl font-bold mb-6" data-i18n="legacy.projects.openSourceTitle">{getDefaultUiText("legacy.projects.openSourceTitle")}</h2>
                    <div class="bg-white rounded-lg p-6 shadow-md">
                        <p class="mb-4" data-i18n="legacy.projects.openSourceDesc">{getDefaultUiText("legacy.projects.openSourceDesc")}</p>
                        <ul class="list-disc pl-6 mb-4">
                            <li class="mb-2">
                                <a
                                    href="#"
                                    class="text-accent hover:underline font-medium"
                                    data-i18n="legacy.projects.openSourceItem1Name"
                                    >{getDefaultUiText("legacy.projects.openSourceItem1Name")}</a
                                > <span data-i18n="legacy.projects.openSourceItem1Desc">{getDefaultUiText("legacy.projects.openSourceItem1Desc")}</span>
                            </li>
                            <li class="mb-2">
                                <a
                                    href="#"
                                    class="text-accent hover:underline font-medium"
                                    data-i18n="legacy.projects.openSourceItem2Name"
                                    >{getDefaultUiText("legacy.projects.openSourceItem2Name")}</a
                                > <span data-i18n="legacy.projects.openSourceItem2Desc">{getDefaultUiText("legacy.projects.openSourceItem2Desc")}</span>
                            </li>
                            <!-- 添加更多开源贡献 -->
                        </ul>
                        <p data-i18n="legacy.projects.openSourceFooter">{getDefaultUiText("legacy.projects.openSourceFooter")}</p>
                    </div>
                </div>
            </div>
        </div>
    </div>
    </main>
</BaseLayout>

<style>
    /* 首页容器 */
    .homepage-container {
        max-width: 1400px;
        margin: 0 auto;
        padding: 2rem 1rem;
        padding-top: 6rem;
    }

    /* 首页布局 */
    .homepage-layout {
        display: grid;
        grid-template-columns: 320px 1fr;
        gap: 3rem;
    }

    /* 左侧边栏 */
    .homepage-sidebar {
        display: flex;
        flex-direction: column;
        gap: 2rem;
    }

    /* 右侧内容区 */
    .homepage-content {
        min-width: 0;
    }

    /* 分类标题 */
    .section-title {
        font-size: 2rem;
        font-weight: 700;
        margin-bottom: 2rem;
        color: var(--text-primary);
    }

    /* 项目列表 */
    .post-list {
        display: flex;
        flex-direction: column;
        gap: 1.5rem;
    }

    .projects-hero {
        background: linear-gradient(
            to bottom,
            rgba(var(--gray-light), 0.3),
            var(--bg-primary)
        );
        padding: 4rem 0;
    }
    .project-card {
        background-color: var(--bg-secondary);
        padding: 1.5rem;
        border-radius: 0.5rem;
        box-shadow: 0 4px 6px rgba(0, 0, 0, 0.1);
        transition: all 0.3s ease;
        border: 1px solid rgba(var(--gray-light), 0.2);
    }
    .project-card:hover {
        transform: translateY(-5px);
        box-shadow: 0 10px 15px rgba(0, 0, 0, 0.1);
    }
    .tag {
        background-color: rgba(var(--gray-light), 1);
        padding: 0.25rem 0.5rem;
        border-radius: 0.25rem;
        font-size: 0.75rem;
        color: rgb(var(--gray-dark));
    }

    @media (max-width: 1024px) {
        .homepage-layout {
            grid-template-columns: 1fr;
            gap: 2rem;
        }

        .homepage-sidebar {
            max-width: 600px;
            margin: 0 auto;
        }
    }
</style>
